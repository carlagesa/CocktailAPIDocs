export const metadata = {
  title: 'Token Management',
  description: 'Endpoints for handling token-based authentication.',
}

# Token Management

Token management endpoints allow you to handle authentication and token refresh.

## Obtain a token {{ tag: 'POST', label: '/v1/token' }}

<Row>
  <Col>

    This endpoint allows you to obtain a new authentication token.

    ### Required attributes

    <Properties>
      <Property name="username" type="string">
        The username of the user.
      </Property>
      <Property name="password" type="string">
        The password of the user.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/v1/token">

    ```bash {{ title: 'cURL' }}
    curl -X POST https://api.protocol.chat/v1/token \
      -H "Content-Type: application/json" \
      -d '{"username": "your_username", "password": "your_password"}'
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient()

    await client.auth.obtainToken({ username: 'your_username', password: 'your_password' })
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient()

    client.auth.obtain_token(username="your_username", password="your_password")
    ```

    ```php
    $client = new \Protocol\ApiClient();

    $client->auth->obtain_token(['username' => 'your_username', 'password' => 'your_password']);
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "access": "your_access_token",
      "refresh": "your_refresh_token"
    }
    ```

  </Col>
</Row>

---

## Refresh a token {{ tag: 'POST', label: '/v1/token/refresh' }}

<Row>
  <Col>

    This endpoint allows you to refresh an existing authentication token.

    ### Required attributes

    <Properties>
      <Property name="refresh" type="string">
        The refresh token obtained during the initial authentication.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/v1/token/refresh">

    ```bash {{ title: 'cURL' }}
    curl -X POST https://api.protocol.chat/v1/token/refresh \
      -H "Content-Type: application/json" \
      -d '{"refresh": "your_refresh_token"}'
    ```

    ```js
    import ApiClient from '@example/protocol-api'

    const client = new ApiClient()

    await client.auth.refreshToken({ refresh: 'your_refresh_token' })
    ```

    ```python
    from protocol_api import ApiClient

    client = ApiClient()

    client.auth.refresh_token(refresh="your_refresh_token")
    ```

    ```php
    $client = new \Protocol\ApiClient();

    $client->auth->refresh_token(['refresh' => 'your_refresh_token']);
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "access": "your_new_access_token"
    }
    ```

  </Col>
</Row>
